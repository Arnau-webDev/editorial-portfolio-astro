---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import Reveal from '../../components/case-study/Reveal.astro';
import StatCard from '../../components/case-study/StatCard.astro';
import MetricCard from '../../components/case-study/MetricCard.astro';
import SectionHeading from '../../components/case-study/SectionHeading.astro';
import SubHeading from '../../components/case-study/SubHeading.astro';
import DecisionCard from '../../components/case-study/DecisionCard.astro';

// Baseline Lighthouse scores (React 18 + Vite SPA, measured before migration)
const baseline = {
  performance: 56,
  accessibility: 92,
  bestPractices: 100,
  seo: 90,
  fcp: '2.1s',
  lcp: '4.8s',
  tbt: '340ms',
  cls: '0.01',
};

// After scores (Astro SSG — measured on localhost preview)
const after = {
  performance: 97,
  accessibility: 100,
  bestPractices: 100,
  seo: 100,
  fcp: '0.4s',
  lcp: '0.8s',
  tbt: '0ms',
  cls: '0',
};
---

<BaseLayout
  title="This Portfolio — React → Astro Migration | Arnau Marquilles"
  description="How I rebuilt my portfolio from a React 18 SPA to a fully static Astro site, eliminating the React runtime and achieving a 97 Lighthouse performance score."
>
  <Header variant="case-study" />
  <main class="pt-16">

    <!-- HERO -->
    <section class="py-10 px-8 md:px-12 lg:px-20 xl:px-32 2xl:px-40">
      <div class="max-w-[2500px] mx-auto">
        <Reveal>
          <p class="text-primary text-base tracking-widest uppercase mb-6">Case Study</p>
          <h1 class="font-serif text-3xl md:text-4xl lg:text-5xl text-foreground mb-6 max-w-[900px] leading-tight">
            This Portfolio — From React SPA to Astro SSG
          </h1>
          <p class="text-text-body text-lg max-w-[640px] leading-relaxed mb-12">
            A 100% static portfolio had no business shipping a React runtime.
            This documents the migration — what was eliminated, why each decision
            was made, and what the numbers look like before and after.
          </p>
        </Reveal>

        <!-- Metadata -->
        <Reveal delay={0.15}>
          <div class="flex flex-wrap gap-x-10 gap-y-4 mb-12 pb-12 border-b border-border">
            {[
              { label: 'Role', value: 'Solo Developer' },
              { label: 'Timeline', value: '1 week' },
              { label: 'Type', value: 'Personal Project' },
              { label: 'Before', value: 'React 18 + Vite SPA' },
              { label: 'After', value: 'Astro 5 · Static SSG' },
              { label: 'Packages', value: '~65 → 7' },
            ].map((item) => (
              <div>
                <p class="text-text-muted text-sm tracking-widest uppercase mb-1">{item.label}</p>
                <p class="text-foreground text-base">{item.value}</p>
              </div>
            ))}
          </div>
        </Reveal>

        <!-- Key stats -->
        <Reveal delay={0.3}>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
            <StatCard value="97" label="Lighthouse Performance" />
            <StatCard value="0 KB" label="React Runtime" />
            <StatCard value="7" label="npm Packages" />
            <StatCard value="< 0.5s" label="FCP (Time to First Paint)" />
          </div>
        </Reveal>
      </div>
    </section>

    <!-- THE PROBLEM -->
    <section class="py-10 md:py-20 px-8 md:px-12 lg:px-20 xl:px-32 2xl:px-40">
      <div class="max-w-[2500px] mx-auto">
        <Reveal><SectionHeading number="01" title="The Problem" /></Reveal>

        <div class="space-y-16 md:space-y-0 md:grid md:grid-cols-2 md:gap-12 md:items-start">
          <!-- What the React version shipped -->
          <div class="max-w-[600px] md:max-w-none">
            <Reveal><SubHeading title="What the React Version Shipped" /></Reveal>
            <Reveal delay={0.1}>
              <blockquote class="border-l-2 border-accent/40 pl-6 mb-8">
                <p class="text-text-body text-base md:text-lg leading-relaxed italic">
                  The original portfolio was built with React 18 + Vite — a solid
                  stack for an interactive application. But this site is 100% static
                  content with only three interactive elements: scroll reveals,
                  a mobile menu, and a typing effect. React was massive overkill.
                </p>
              </blockquote>
            </Reveal>
            <Reveal delay={0.15}>
              <ul class="space-y-4">
                {[
                  { title: '~350 KB JS', desc: 'React runtime + React Router + all component libraries shipped on every page load' },
                  { title: 'Empty HTML shell', desc: 'The browser downloaded the page, then had to fetch, parse, and execute JS before rendering any content' },
                  { title: '65 npm packages', desc: 'Including react, react-dom, react-router-dom, tech-stack-icons, lucide-react, @radix-ui/*, tailwindcss-animate, and more' },
                  { title: 'Lighthouse Performance: 56', desc: 'LCP of 4.8s, TBT of 340ms — failing on the most user-visible metrics' },
                ].map((point) => (
                  <li class="flex gap-3">
                    <span class="text-accent mt-1.5 shrink-0">&mdash;</span>
                    <div>
                      <span class="text-foreground font-medium">{point.title}</span>
                      <span class="text-text-body"> — {point.desc}</span>
                    </div>
                  </li>
                ))}
              </ul>
            </Reveal>
          </div>

          <!-- Lighthouse Baseline -->
          <div class="max-w-[600px] md:max-w-none">
            <Reveal><SubHeading title="Baseline Lighthouse (React/Vite)" /></Reveal>
            <Reveal delay={0.1}>
              <p class="text-text-muted text-xs tracking-widest uppercase mb-4">Mobile audit — measured before migration</p>
              <div class="grid grid-cols-2 gap-3 mb-6">
                {[
                  { label: 'Performance', value: baseline.performance, good: false },
                  { label: 'Accessibility', value: baseline.accessibility, good: true },
                  { label: 'Best Practices', value: baseline.bestPractices, good: true },
                  { label: 'SEO', value: baseline.seo, good: true },
                ].map((item) => (
                  <div class={`bg-bg-elevated border rounded-sm p-4 text-center ${item.good ? 'border-border' : 'border-destructive/40'}`}>
                    <p class={`font-serif text-3xl mb-1 ${item.good ? 'text-accent' : 'text-destructive'}`}>{item.value}</p>
                    <p class="text-text-muted text-xs tracking-wide uppercase">{item.label}</p>
                  </div>
                ))}
              </div>
              <div class="bg-bg-subtle border border-border rounded-sm p-4 space-y-2 mb-6">
                {[
                  { label: 'FCP', value: baseline.fcp },
                  { label: 'LCP', value: baseline.lcp },
                  { label: 'TBT', value: baseline.tbt },
                  { label: 'CLS', value: baseline.cls },
                ].map((m) => (
                  <div class="flex justify-between text-sm">
                    <span class="text-text-muted">{m.label}</span>
                    <span class="text-text-body font-mono">{m.value}</span>
                  </div>
                ))}
              </div>
              <img
                src="/images/Lighthouse_score_react.png"
                alt="Lighthouse audit screenshot for the React/Vite version showing a performance score of 56"
                class="w-full rounded-sm border border-border"
              />
            </Reveal>
          </div>
        </div>
      </div>
    </section>

    <!-- DECISION LOG -->
    <section class="py-10 md:py-20 px-8 md:px-12 lg:px-20 xl:px-32 2xl:px-40">
      <div class="max-w-[2500px] mx-auto">
        <Reveal><SectionHeading number="02" title="Decision Log" /></Reveal>
        <Reveal delay={0.1}>
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6">
            <DecisionCard
              title="Framework Choice"
              decision="Astro over Next.js or Remix"
              rationale="Next.js and Remix both default to server-side concerns or React islands. Astro is specifically designed for content-first sites — it ships zero JS by default and lets you opt in to interactivity at the component level. A portfolio with no data fetching and no user state has no business using Next.js."
              tradeoff="Astro is less familiar than Next.js. Acceptable trade-off: the simpler mental model pays back quickly."
            />
            <DecisionCard
              title="Interactivity Strategy"
              decision="Zero React islands — vanilla TypeScript modules"
              rationale="The entire site needed exactly three JS behaviours: scroll reveals (IntersectionObserver), header scroll detection + mobile menu, and a hero typing effect. Each is ~15 lines of vanilla TS. Hydrating a React component for any of these would be grotesque."
              tradeoff="No shared state between interactive elements. Not a problem — these three behaviours are fully independent."
            />
            <DecisionCard
              title="Icon Strategy"
              decision="Inline SVGs instead of tech-stack-icons"
              rationale="tech-stack-icons is a React component library that wraps SVG data. In Astro, SVGs render at build time to static HTML — no runtime cost. By extracting the SVG strings from the package's dist bundle and embedding them in a TypeScript data file, we get identical visuals with zero JS shipped."
              tradeoff="SVG strings make the data file large (~60KB source). Irrelevant — it's build-time data, not shipped JS."
            />
            <DecisionCard
              title="Reveal Animations"
              decision="Single shared IntersectionObserver script"
              rationale="The React version had one useReveal hook per component — 15+ IntersectionObserver instances across the page. The Astro version registers one observer per [data-reveal] element from a single script that runs once on DOMContentLoaded. Simpler, cheaper, and easier to reason about."
              tradeoff="CSS handles the animation state (opacity + transform via .is-visible class). Marginally more verbose HTML, zero runtime overhead."
            />
          </div>
        </Reveal>
      </div>
    </section>

    <!-- ARCHITECTURE COMPARISON -->
    <section class="py-10 md:py-20 px-8 md:px-12 lg:px-20 xl:px-32 2xl:px-40">
      <div class="max-w-[2500px] mx-auto">
        <Reveal><SectionHeading number="03" title="Architecture Comparison" /></Reveal>
        <Reveal delay={0.1}>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <!-- Before: SPA -->
            <div class="bg-bg-elevated border border-destructive/20 rounded-sm p-6 md:p-8">
              <p class="text-destructive text-xs tracking-widest uppercase mb-6">Before — React 18 SPA</p>

              <!-- Flow diagram -->
              <div class="space-y-3">
                {[
                  { step: '1', label: 'Browser requests /', sub: 'Server responds with empty HTML shell' },
                  { step: '2', label: 'Browser downloads JS bundle', sub: '~350 KB · React runtime + all components' },
                  { step: '3', label: 'JS parses + executes', sub: 'TBT: 340ms · main thread blocked' },
                  { step: '4', label: 'React hydrates', sub: 'Builds virtual DOM, reconciles, renders' },
                  { step: '5', label: 'Content visible', sub: 'LCP: 4.8s · user waited nearly 5 seconds' },
                ].map((item) => (
                  <div class="flex gap-3">
                    <span class="w-6 h-6 rounded-full bg-destructive/10 border border-destructive/30 text-destructive text-xs flex items-center justify-center shrink-0 mt-0.5">{item.step}</span>
                    <div>
                      <p class="text-text-body text-sm font-medium">{item.label}</p>
                      <p class="text-text-muted text-xs">{item.sub}</p>
                    </div>
                  </div>
                ))}
              </div>
            </div>

            <!-- After: SSG -->
            <div class="bg-bg-elevated border border-accent/20 rounded-sm p-6 md:p-8">
              <p class="text-accent text-xs tracking-widest uppercase mb-6">After — Astro 5 SSG</p>
              <div class="space-y-3">
                {[
                  { step: '1', label: 'Browser requests /', sub: 'Server responds with complete pre-rendered HTML' },
                  { step: '2', label: 'Browser renders HTML', sub: 'Content visible immediately — FCP: 0.4s' },
                  { step: '3', label: 'CSS loads', sub: 'Tailwind utility classes, no layout shift' },
                  { step: '4', label: 'Small JS modules load', sub: '~4 KB · reveal.ts + header.ts + hero-typing.ts' },
                  { step: '5', label: 'Animations activate', sub: 'IntersectionObserver triggers reveals — TBT: 0ms' },
                ].map((item) => (
                  <div class="flex gap-3">
                    <span class="w-6 h-6 rounded-full bg-accent/10 border border-accent/30 text-accent text-xs flex items-center justify-center shrink-0 mt-0.5">{item.step}</span>
                    <div>
                      <p class="text-text-body text-sm font-medium">{item.label}</p>
                      <p class="text-text-muted text-xs">{item.sub}</p>
                    </div>
                  </div>
                ))}
              </div>
            </div>
          </div>
        </Reveal>
      </div>
    </section>

    <!-- WHAT WAS ELIMINATED -->
    <section class="py-10 md:py-20 px-8 md:px-12 lg:px-20 xl:px-32 2xl:px-40">
      <div class="max-w-[2500px] mx-auto">
        <Reveal><SectionHeading number="04" title="What Was Eliminated" /></Reveal>
        <Reveal delay={0.1}>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <!-- Before deps -->
            <div>
              <p class="text-text-muted text-xs tracking-widest uppercase mb-4">Before — ~65 packages (selected)</p>
              <div class="bg-bg-elevated border border-border rounded-sm overflow-hidden">
                {[
                  { pkg: 'react', reason: 'Runtime: 45KB gzipped' },
                  { pkg: 'react-dom', reason: 'Runtime: 130KB gzipped' },
                  { pkg: 'react-router-dom', reason: 'Client-side routing — unnecessary for SSG' },
                  { pkg: 'tech-stack-icons', reason: 'React component wrapper over SVG data' },
                  { pkg: 'lucide-react', reason: 'React icon library' },
                  { pkg: '@radix-ui/* (8 packages)', reason: 'UI primitives — none used in production' },
                  { pkg: 'tailwindcss-animate', reason: 'Radix animation classes — unused' },
                  { pkg: 'clsx + tailwind-merge', reason: 'Class utility helpers for React' },
                  { pkg: '@tanstack/react-query', reason: 'Server state — no server state exists' },
                  { pkg: 'next-themes', reason: 'Theme switching — no theme toggle UI' },
                ].map((row) => (
                  <div class="flex items-start gap-3 px-4 py-3 border-b border-border last:border-0">
                    <span class="font-mono text-destructive text-xs shrink-0 mt-0.5">✕</span>
                    <div>
                      <p class="text-text-body text-xs font-medium">{row.pkg}</p>
                      <p class="text-text-muted text-[11px]">{row.reason}</p>
                    </div>
                  </div>
                ))}
              </div>
            </div>

            <!-- After deps -->
            <div>
              <p class="text-text-muted text-xs tracking-widest uppercase mb-4">After — 7 packages total</p>
              <div class="bg-bg-elevated border border-border rounded-sm overflow-hidden">
                {[
                  { pkg: 'astro', reason: 'Framework — includes Vite, build tooling, SSG' },
                  { pkg: '@astrojs/tailwind', reason: 'Tailwind integration' },
                  { pkg: '@astrojs/sitemap', reason: 'Automatic sitemap.xml generation' },
                  { pkg: '@astrojs/check', reason: 'TypeScript type checking for .astro files' },
                  { pkg: 'tailwindcss', reason: 'CSS utility framework — design tokens' },
                  { pkg: 'autoprefixer', reason: 'CSS vendor prefixes' },
                  { pkg: 'typescript', reason: 'Type safety for data files and scripts' },
                ].map((row) => (
                  <div class="flex items-start gap-3 px-4 py-3 border-b border-border last:border-0">
                    <span class="font-mono text-accent text-xs shrink-0 mt-0.5">✓</span>
                    <div>
                      <p class="text-text-body text-xs font-medium">{row.pkg}</p>
                      <p class="text-text-muted text-[11px]">{row.reason}</p>
                    </div>
                  </div>
                ))}
              </div>
            </div>
          </div>
        </Reveal>
      </div>
    </section>

    <!-- CONVERSION DETAILS -->
    <section class="py-10 md:py-20 px-8 md:px-12 lg:px-20 xl:px-32 2xl:px-40">
      <div class="max-w-[2500px] mx-auto">
        <Reveal><SectionHeading number="05" title="Conversion Details" /></Reveal>

        <div class="space-y-12">
          <!-- Reveal pattern -->
          <Reveal delay={0.1}>
            <div>
              <SubHeading title="The Reveal Pattern" />
              <p class="text-text-body text-base leading-relaxed mb-6">
                The React version had a <code class="text-accent bg-bg-subtle px-1.5 py-0.5 rounded text-sm">useReveal</code> hook
                that created one <code class="text-accent bg-bg-subtle px-1.5 py-0.5 rounded text-sm">IntersectionObserver</code> per
                component. The Astro version registers all observers from a single script that scans the DOM once.
              </p>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="bg-bg-subtle border border-border rounded-sm p-4 font-mono text-xs text-text-body overflow-x-auto">
                  <p class="text-destructive text-[10px] tracking-widest uppercase mb-3">React — hook per component</p>
                  <pre class="whitespace-pre-wrap leading-relaxed">{`function useReveal(threshold = 0.15) {
  const ref = useRef(null);
  const [visible, setVisible] = useState(false);

  useEffect(() => {
    const obs = new IntersectionObserver(
      ([e]) => { if (e.isIntersecting) {
        setVisible(true); obs.disconnect();
      }},
      { threshold }
    );
    obs.observe(ref.current);
    return () => obs.disconnect();
  }, [threshold]);

  return { ref, visible };
}`}</pre>
                </div>
                <div class="bg-bg-subtle border border-accent/20 rounded-sm p-4 font-mono text-xs text-text-body overflow-x-auto">
                  <p class="text-accent text-[10px] tracking-widest uppercase mb-3">Astro — single shared script</p>
                  <pre class="whitespace-pre-wrap leading-relaxed">{`// reveal.ts — runs once on DOMContentLoaded
document.querySelectorAll('[data-reveal]')
  .forEach((el) => {
    const threshold = parseFloat(
      el.dataset.revealThreshold ?? '0.15'
    );
    const obs = new IntersectionObserver(
      ([entry]) => {
        if (entry.isIntersecting) {
          el.classList.add('is-visible');
          obs.disconnect();
        }
      },
      { threshold }
    );
    obs.observe(el);
  });`}</pre>
                </div>
              </div>
            </div>
          </Reveal>

          <!-- Header scroll -->
          <Reveal delay={0.1}>
            <div>
              <SubHeading title="Header Scroll Detection" />
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="bg-bg-subtle border border-border rounded-sm p-4 font-mono text-xs text-text-body overflow-x-auto">
                  <p class="text-destructive text-[10px] tracking-widest uppercase mb-3">React — useState + useEffect</p>
                  <pre class="whitespace-pre-wrap leading-relaxed">{`const [scrolled, setScrolled] = useState(false);

useEffect(() => {
  const onScroll = () => setScrolled(window.scrollY > 20);
  window.addEventListener('scroll', onScroll, { passive: true });
  return () => window.removeEventListener('scroll', onScroll);
}, []);

// JSX: className={\`... \${scrolled ? 'bg-background/90...' : ''}\`}`}</pre>
                </div>
                <div class="bg-bg-subtle border border-accent/20 rounded-sm p-4 font-mono text-xs text-text-body overflow-x-auto">
                  <p class="text-accent text-[10px] tracking-widest uppercase mb-3">Astro — classList toggle</p>
                  <pre class="whitespace-pre-wrap leading-relaxed">{`// header.ts
const header = document.getElementById('site-header');
window.addEventListener('scroll', () => {
  header?.classList.toggle(
    'is-scrolled',
    window.scrollY > 20
  );
}, { passive: true });

// global.css
#site-header.is-scrolled {
  background-color: hsl(var(--background) / 0.9);
  backdrop-filter: blur(4px);
}`}</pre>
                </div>
              </div>
            </div>
          </Reveal>

          <!-- SVG Icons -->
          <Reveal delay={0.1}>
            <div>
              <SubHeading title="SVG Icons Without React" />
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="bg-bg-subtle border border-border rounded-sm p-4 font-mono text-xs text-text-body overflow-x-auto">
                  <p class="text-destructive text-[10px] tracking-widest uppercase mb-3">React — component + runtime render</p>
                  <pre class="whitespace-pre-wrap leading-relaxed">{`import StackIcon from 'tech-stack-icons';

<StackIcon name="react" />
// → React component → runtime JS → DOM`}</pre>
                </div>
                <div class="bg-bg-subtle border border-accent/20 rounded-sm p-4 font-mono text-xs text-text-body overflow-x-auto">
                  <p class="text-accent text-[10px] tracking-widest uppercase mb-3">Astro — build-time SVG injection</p>
                  <pre class="whitespace-pre-wrap leading-relaxed">{`// skills.ts — SVG strings extracted at build time
export const skillCategories = [
  { name: 'Frameworks', items: [
    { label: 'React.js', svg: '<svg>...</svg>' },
  ]},
];

// Skills.astro
<Fragment set:html={item.svg} />
// → Static HTML — zero JS shipped`}</pre>
                </div>
              </div>
            </div>
          </Reveal>
        </div>
      </div>
    </section>

    <!-- RESULTS -->
    <section class="py-10 md:py-20 px-8 md:px-12 lg:px-20 xl:px-32 2xl:px-40">
      <div class="max-w-[2500px] mx-auto">
        <Reveal><SectionHeading number="06" title="Results" /></Reveal>
        <Reveal delay={0.1}>
          <p class="text-text-muted text-xs tracking-widest uppercase mb-6">After — Astro SSG · Mobile Lighthouse</p>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
            {[
              { label: 'Performance', value: after.performance },
              { label: 'Accessibility', value: after.accessibility },
              { label: 'Best Practices', value: after.bestPractices },
              { label: 'SEO', value: after.seo },
            ].map((item) => (
              <div class="bg-bg-elevated border border-accent/20 rounded-sm p-4 text-center">
                <p class="font-serif text-3xl text-accent mb-1">{item.value}</p>
                <p class="text-text-muted text-xs tracking-wide uppercase">{item.label}</p>
              </div>
            ))}
          </div>
          <img
            src="/images/Lighthouse_score_astro.png"
            alt="Lighthouse audit screenshot for the Astro SSG version showing a performance score of 97"
            class="w-full rounded-sm border border-accent/20 mb-8"
          />

          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6">
            <MetricCard
              label="Performance"
              value="56 → 97"
              context="41-point gain. The single biggest driver: pre-rendered HTML means content is immediately visible — no hydration wait."
            />
            <MetricCard
              label="FCP"
              value="2.1s → 0.4s"
              context="First Contentful Paint dropped 81%. The browser gets complete HTML — no JS needed to show content."
            />
            <MetricCard
              label="LCP"
              value="4.8s → 0.8s"
              context="Largest Contentful Paint dropped 83%. The hero name is in the HTML, not injected by React after bundle execution."
            />
            <MetricCard
              label="TBT"
              value="340ms → 0ms"
              context="Total Blocking Time eliminated. No React runtime to parse and execute. Three small JS modules replace the entire bundle."
            />
            <MetricCard
              label="JS Shipped"
              value="~350 KB → ~4 KB"
              context="98.9% reduction. reveal.ts + header.ts + hero-typing.ts replace the entire React + Router + icon + utility dependency tree."
            />
            <MetricCard
              label="npm Packages"
              value="~65 → 7"
              context="89% reduction in dependency surface. Fewer packages = smaller attack surface, faster installs, simpler updates."
            />
          </div>
        </Reveal>
      </div>
    </section>

    <!-- REFLECTION -->
    <section class="py-10 md:py-20 px-8 md:px-12 lg:px-20 xl:px-32 2xl:px-40">
      <div class="max-w-[2500px] mx-auto">
        <Reveal><SectionHeading number="07" title="Reflection" /></Reveal>

        <div class="space-y-16 md:space-y-0 md:grid md:grid-cols-2 md:gap-12 md:items-start mb-12">
          <!-- When React is wrong -->
          <div class="max-w-[600px] md:max-w-none">
            <Reveal><SubHeading title="When React Is the Wrong Tool" /></Reveal>
            <Reveal delay={0.1}>
              <blockquote class="border-l-2 border-accent/40 pl-6 mb-8">
                <p class="text-text-body text-base md:text-lg leading-relaxed italic">
                  React is excellent. It's the right tool for applications with
                  complex state, real-time data, and rich user interaction. A
                  portfolio with pre-written content, no backend, and three
                  CSS-triggerable animations is not that application.
                </p>
              </blockquote>
            </Reveal>
            <Reveal delay={0.15}>
              <ul class="space-y-4">
                {[
                  'Static content sites have no runtime state to manage — the entire React model is overhead',
                  'A 350 KB JS bundle to display text and images is a failure of tool selection, not a React limitation',
                  'The typing effect, scroll reveals, and mobile menu are each 10–15 lines of vanilla JS — they don\'t need a framework',
                  'Framework-agnosticism is a senior engineering skill: reach for the right abstraction level, not the familiar one',
                ].map((item) => (
                  <li class="flex gap-3">
                    <span class="text-accent mt-1.5 shrink-0">&mdash;</span>
                    <span class="text-text-body leading-relaxed">{item}</span>
                  </li>
                ))}
              </ul>
            </Reveal>
          </div>

          <!-- What Astro got right -->
          <div class="max-w-[600px] md:max-w-none">
            <Reveal><SubHeading title="What Astro Got Right" /></Reveal>
            <Reveal delay={0.1}>
              <blockquote class="border-l-2 border-accent/40 pl-6 mb-8">
                <p class="text-text-body text-base md:text-lg leading-relaxed italic">
                  Astro's zero-JS-by-default model forced the right question at
                  every component: does this actually need to run in the browser?
                  The answer was almost always no.
                </p>
              </blockquote>
            </Reveal>
            <Reveal delay={0.15}>
              <ul class="space-y-4">
                {[
                  'Component-scoped CSS and JS without a build-time framework abstraction',
                  'TypeScript in frontmatter runs at build time — data transformation with zero runtime cost',
                  'The island architecture makes the trade-off explicit: adding a client:load directive is a deliberate choice, not a default',
                  'Vite under the hood means the DX is familiar — HMR, TypeScript, PostCSS all work as expected',
                ].map((item) => (
                  <li class="flex gap-3">
                    <span class="text-accent mt-1.5 shrink-0">&mdash;</span>
                    <span class="text-text-body leading-relaxed">{item}</span>
                  </li>
                ))}
              </ul>
            </Reveal>
          </div>
        </div>

        <Reveal delay={0.2}>
          <p class="text-text-body text-lg leading-relaxed italic max-w-[750px]">
            The migration took one week. The performance improvement was immediate and
            dramatic. The code is simpler, the dependency tree is smaller, and the
            output is a set of pre-rendered HTML files that will load instantly on any
            connection. This is what the right tool for the job looks like.
          </p>
        </Reveal>
      </div>
    </section>

    <div class="py-8"></div>
  </main>
  <Footer />
</BaseLayout>
